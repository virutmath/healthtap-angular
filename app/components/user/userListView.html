<link rel="stylesheet" href="components/user/styles.min.css">
<div class="box">
	<div class="box-header with-border">
		<h3 class="box-title">
			Thêm mới user
		</h3>
		<div class="box-tools pull-right">
			<button type="button" class="btn btn-box-tool" ng-click="uc.showCreateUserArea()">
				<i class="fa fa-user-plus"></i>
			</button>
		</div>
	</div>
	<div class="box-body">
		<div ng-repeat="errMsg in uc.errors">
			<div class="alert alert-warning alert-dismissible fade in" role="alert">
				<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
					aria-hidden="true">×</span></button>
				{{errMsg}}
			</div>
		</div>
		<form>
			<div class="form-group">
				<label>Email</label>
				<input type="email" ng-model="uc.newUser.email" class="form-control" required>
			</div>
			<div class="form-group">
				<label>Password</label>
				<input type="password" ng-model="uc.newUser.password" class="form-control" required>
			</div>
			<div class="form-group">
				<label>Role</label>
				<select class="form-control" ng-model="uc.newUser.role_code">
					<option value="admin">Admin</option>
					<option value="user">User</option>
				</select>
			</div>
			<div class="form-group">
				<button ng-click="uc.addUser()" class="btn btn-primary">Thêm mới</button>
			</div>
		</form>
	</div>
	<div class="box-header">
		<h3 class="box-title">Danh sách user</h3>
	</div>
	<div class="box-body">
		<table class="table table-bordered table-hover table-striped">
			<tr class="bg-aqua-active">
				<th>ID</th>
				<th>Avatar Url</th>
				<th>Email</th>
				<th>Thời gian tạo</th>
				<th>Thời gian cập nhật</th>
				<th>Kích hoạt</th>
				<th>Thao tác</th>
			</tr>
			<tr ng-repeat="user in uc.listUser">
				<td>{{user.id}}</td>
				<td><avatar avatar-url="user.avatar"></avatar></td>
				<td>{{user.email}}</td>
				<td>{{user.created_at}}</td>
				<td>{{user.updated_at}}</td>
				<td>
					<input type="checkbox" checked="user.activated">
				</td>
				<td>
					<button class="btn btn-primary" ng-click="uc.showEditModal(user)">
						<i class="fa fa-edit"></i> Sửa
					</button>
					<button class="btn btn-default" ng-click="uc.deleteUser(user)">
						<i class="fa fa-trash"></i> Xóa
					</button>
				</td>
			</tr>
		</table>
	</div>
</div>
<div id="editUserModal" class="modal fade">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="myModalLabel">Chỉnh sửa thông tin user</h4>
			</div>
			<div class="modal-body">
				<form>
					<div class="form-group">
						<label>Tên đầy đủ</label>
						<input type="text" ng-model="uc.editUser.full_name" class="form-control" />
					</div>
					<div class="form-group">
						<label>Mật khẩu</label>
						<input type="password" ng-model="uc.editUser.password" class="form-control" />
					</div>
					<div class="form-group">
						<label>Avatar url</label>
						<input type="text" ng-model="uc.editUser.avatar_url" class="form-control" />
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-primary" ng-click="uc.saveEditUser()">Save changes</button>
			</div>
		</div>
	</div>
</div>
